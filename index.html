<!--<!DOCTYPE html>
for some reason this is causing strange layout issues...
-->
<html>
	<head>
		<meta charset="utf-8">
		<title>Lightbroom Preview</title>
        <link href='https://fonts.googleapis.com/css?family=Lato:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css'>
	</head>
<body>
	<link rel="stylesheet" href="cssgram.min.css"></link>
	<link rel="stylesheet" href="lightbroom.css"></link>
	<script src="ImageOpener.js"></script>
	<script src="photo.js"></script>
	<script src="node_modules/exif-js/exif.js"></script>

	<!--
		initial potatoe prototype from http://jabtunes.com/labs/potatoe/ series

		TODO
		- Remember last effect, last output settings (resolution)

		DONE
		1. Photo rotation (transform in canvas, pass css transform)
		2. Output size (easy, can use css for now)
		3. Save last target folder
		4. Select and Remove images
		5. Resize film strip thumbnails
	-->


    <div id="topbar">
		<!-- toolbar here -->
		<!--<button>browse photos here.....</button>-->
		<span id="save-options" class="txt-drag-your-photos-here">
			<button onclick="saveImage()">Save Image</button>
			<button onclick="outputFolder()">Output directory</button> <span id="saveTo"></span>
			<button onclick="saveAll()">Save All Images</button>
			Long side: <input id="longside" type="text" size="5" value="" style="background: none; color: #fff;" placeholder="auto"/>

			<span id="status"></span>
			<!--[ Select Target Folder ] [ Output Size ][ Output Suffix ]-->
		</span>

		<div>
			Filmstrip:
			<button onclick="sizeThumbnails(120)">S</button>
			<button onclick="sizeThumbnails(240)">M</button>
			<button onclick="sizeThumbnails(360)">L</button>
		</div>

        <div>
			Panels:
			<button onclick="togglePreviewSlider(0)">Grid</button>
            <button onclick="togglePreviewSlider(1)">Split</button>
			<button onclick="togglePreviewSlider(2)">Loupe</button>
		</div>

		<div class="txt-drag-your-photos-here" style="bottom: 0">
			<button onclick="toggleEffects(this)" class="active">Effects</button>
			Drag photos into the app to start.

            <button onclick="toggleSelectMode(this)">Select Photos</button>
            <button onclick="selectAll()">Select All</button>
            <button onclick="removeSelection()">Remove</button>
            <button onclick="clearThumbnails()">Remove All</button>
		</div>

    </div>



    <div id="filter-wrapper">
        <div id="filters">
        </div>
    </div>

    <div id="contents">

        <div id="loupe">
            <button onclick="togglePreviewSlider()" style="right:0; z-index: 20; position: fixed;">v</button>

            <div id="sliders">
                <input type="range" onchange="brightness(this)" onmousemove="brightness(this)" min="0" max="4" value="1" step="0.001"/>
                <input type="range" onchange="contrast(this)" onmousemove="contrast(this)" min="0" max="4" value="1" step="0.001"/>
            </div>


            <div id="big">
            </div>
        </div>

        <div id="preview-slider"></div>

        <div id="preview">
            <div id="filmstrip"></div>
        </div>

    </div>

	<script src="lightbroom.js"></script>
	<script src="transfer-image.js"></script>

</body>
</html>